!function(e){function t(i){if(n[i])return n[i].exports;var a=n[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=20)}({0:function(e,t,n){"use strict";t.__esModule=!0,t.ACTION_COLLECT="collect",t.ACTION_SPREAD="spread",t.ACTION_READ="read",t.ACTION_DELETE="delete",t.ACTION_OLD_VISIT="visit",t.ACTION_OLD_DELIVERY="delivery",t.CLIENT_EVENT_ADD_ACTION="addAction",t.CLIENT_EVENT_READ_RESULT="readResult"},2:function(e,t,n){"use strict";function i(e){return void 0===e&&(e=document.location.host),e.replace("asset","").replace("atout","")}function a(e,t){void 0===t&&(t=document.cookie);var n;return(n=new RegExp("(?:^|; ?)"+encodeURIComponent(e)+"=?([^;]*)").exec(t))?decodeURIComponent(n[1]):null}function s(e,t,n){var a=new Date((new Date).getTime()+1e3*n);document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+";expires="+a.toUTCString()+";path=/;domain="+i()}function o(e){s(e,"",-1123200)}function r(e,t){void 0===t&&(t=172800),s(e,"1",t)}t.__esModule=!0,t.getHostTopDomain=i,t.getCookieValue=a,t.setSimpleCookie=s,t.deleteCookie=o,t.setCappingCookie=r},20:function(e,t,n){"use strict";t.__esModule=!0;var i=n(8);!function(e){i.ClientTag.getInstance(e).gatherActions()}(window)},3:function(e,t,n){"use strict";function i(e){var t=document.createElement("iframe");return t.src=e,t.style.display="none",t.style.visibility="hidden",t.style.opacity="0",t.style.width="0px",t.style.height="0px",t.style.position="absolute",t}function a(e,t){e.contentWindow.postMessage(o(t),e.src.replace(/^(.*:\/\/[^\/]*).*$/,"$1"))}function s(e,t){var n=function(e){var n=e.source,i=e.origin,a=r(e.data);a&&t(a,n,i)};e.attachEvent?e.attachEvent("onmessage",n):e.addEventListener&&e.addEventListener("message",n,!1)}function o(e){return JSON.stringify({token:c,payload:e})}function r(e){if(e){try{e="string"==typeof e?JSON.parse(e):e}catch(e){return}if(e.token&&e.token==c&&e.payload)return e.payload}}t.__esModule=!0;var c="GfbyfaO9k6D1qvMbn83g";t.createIframe=i,t.notifyAction=a,t.addPostMessageListener=s,t.generatePostMessage=o,t.readPostMessage=r},6:function(e,t,n){"use strict";function i(e,t){var n=t.collect||{};for(var i in n)n.hasOwnProperty(i)&&"object"!=typeof n[i]&&(n[i]=[n[i]]);if(t.log){var a=t.log.add;for(var i in a)if(a.hasOwnProperty(i)){var s="object"==typeof a[i]?a[i]:[a[i]];if(n[i])for(var r=0,c=s;r<c.length;r++){var d=c[r];-1==n[i].indexOf(d)&&n[i].push(d)}else n[i]=s}}var p=n.p||n.lp||null;return delete n.p,delete n.lp,[o.ACTION_COLLECT,{dmp:e,p:p?p[0]:null},n]}function a(e,t){return[o.ACTION_SPREAD,{dmp:e},t]}function s(e,t){return[o.ACTION_READ,{dmp:e},t]}t.__esModule=!0;var o=n(0);t.convertBetaVisitParams=i,t.convertBetaDeliveryParams=a,t.convertBetaReadParams=s},8:function(e,t,n){"use strict";t.__esModule=!0;var i=n(3),a=n(0),s=n(6),o=n(2),r="[eedmpact]",c="[eedmpmt]",d=function(){function e(e){this.dmpHosts={},this.isRunning=!1,this.customDomainMap={cpdcsn:"asset.cpdcsn.com"},this.defaultDomain="asset.easydmp.net",this.win=e,this.isRunning=!1,this.replacePublicMethod(),this.listenToPostMessage()}return e.prototype.replacePublicMethod=function(){var e=this.getPublicMethodName(),t=[];this.win[e]&&(t=this.win[e].q||[]);var n=this;this.win[e]=function(){n.win[e].q.push(arguments),n.gatherActions()},this.win[e].q=t},e.getInstance=function(t){return t[c]||(t[c]=new e(t)),t[c]},e.prototype.gatherActions=function(){var e=this;if(!this.isRunning){this.isRunning=!0,this.convertLegacyActions();for(var t=this.getPublicMethodName();this.win[t].q.length>0;){var n=this.win[t].q.shift();if("string"==typeof n[1])switch(n[1]){case a.ACTION_OLD_VISIT:n=s.convertBetaVisitParams(n[0],n[2]||{});break;case a.ACTION_OLD_DELIVERY:n=s.convertBetaDeliveryParams(n[0],n[2]||{});break;case a.ACTION_READ:n=s.convertBetaReadParams(n[0],n[2]||{})}var i={type:n[0]||"missing",meta:n[1]||{},data:n[2]||{}};if("dewdmp"==i.meta.dmp&&i.type==a.ACTION_COLLECT&&i.data.sets)try{sessionStorage.removeItem("ABTastyEasyDmp")}catch(e){}var r="dewdmpSegSpeedUp";if("dewdmp"==i.meta.dmp&&i.type==a.ACTION_READ&&!this.dewdmpDeliveryFix&&null==o.getCookieValue(r)){this.dewdmpDeliveryFix=!0,o.setCappingCookie(r,86400),this.win.onSmartTagUserInfo=function(t){var n={sex:null,sets:[]};t.found&&(t.data.age&&(t.data.age>=18&&t.data.age<=44?n.sets.push("age1844"):t.data.age>=45&&n.sets.push("age45p")),t.data.sexe&&(n.sex=t.data.sexe.toLowerCase(),n.sets.push("sex"+n.sex)),(n.sex||n.sets.length>0)&&e.addAction({type:"collect",meta:{dmp:"dewdmp",p:"graphinium"},data:n}))};var c=this.win.document,d=c.createElement("script");d.type="text/javascript",d.async=!0,d.src="//p.crm4d.com/smarttag/sociodemo/userinfo?cb=onSmartTagUserInfo";var p=c.getElementsByTagName("script")[0];p.parentNode.insertBefore(d,p);var u={type:"spread",meta:{dmp:"emdmpeasy"},data:{actions:["happyview"]}};return this.addAction(u),this.win[t].q.unshift(n),void setTimeout(function(){for(var t=e.win[e.getPublicMethodName()].q,n=[],i=0;i<t.length;i++)t[i]&&"collect"==t[i][0]&&t[i][1]&&"dewdmp"===t[i][1].dmp?n.unshift(t[i]):n.push(t[i]);e.win[e.getPublicMethodName()].q=n,e.isRunning=!1,e.gatherActions()},1e3)}this.addAction(i)}this.isRunning=!1}},e.prototype.convertLegacyActions=function(){var e=this,t="eedmpst",n="eedmpstv",i="eedmpstr",a="/js/dn_iframe.js",o=this.getPublicMethodName(),r=null,c=function(t){null!==t&&e.win[o].q.push(s.convertBetaVisitParams(t.dmp,t.params))};if("object"==typeof this.win[t]){var d=this.win[t];delete this.win[t];var p=d.dmp_id||"";delete d.dmp_id,r={dmp:p,params:{collect:this.convertLegacyValues(d)}}}if("object"==typeof this.win[n]){var d=this.win[n];delete this.win[n];var p=d.dmp_id||"",u=d.collect||"";delete d.dmp_id,delete d.collect,r&&r.dmp!=p&&(c(r),r=null),r=r||{dmp:p,params:{}},r.params.log={fields:String(u).split(/,/),add:this.convertLegacyValues(d)}}c(r);var l=this.win.document?this.win.document.querySelector('script[src$="'+a+'"]'):null;if(l&&!l.getAttribute("converted")&&(l.setAttribute("converted","yes"),this.win[o].q.push(s.convertBetaDeliveryParams("emdmpeasy",{}))),"object"==typeof this.win[i]){var d=this.win[i];delete this.win[i];var m={fields:(d.datatypes||"").split(/,/),callback:d.callback||""};d.ctx&&(m.ctx=d.ctx),this.win[o].q.push(s.convertBetaReadParams(d.dmp_id||"",m))}},e.prototype.initDmpIframe=function(e){var t=this.getDmpDomain(e);if(!this.dmpHosts[t]){var n=i.createIframe("https://"+t+"/client_iframe.html?t="+Math.round((new Date).getTime()/72e5));n.setAttribute("dmpReady","no"),n.onload=function(){n.setAttribute("dmpReady","yes")},document.body.insertBefore(n,document.body.firstChild),this.dmpHosts[t]={iframe:n,actions:[]}}return t},e.prototype.delegateActions=function(e){var t=this,n=this.dmpHosts[e];if(n){if("yes"!=n.iframe.getAttribute("dmpReady"))return void setTimeout(function(){t.delegateActions(e)},50);for(;n.actions.length>0;)i.notifyAction(n.iframe,n.actions.shift())}},e.prototype.getDmpDomain=function(e){return this.customDomainMap[e]||this.defaultDomain},e.prototype.addAction=function(e){var t=this.initDmpIframe(e.meta.dmp);this.dmpHosts[t].actions.push(e),this.delegateActions(t)},e.prototype.getPublicMethodName=function(){return this.win[r]||"eedmpdo"},e.prototype.convertLegacyValues=function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var i="string"==typeof e[n]||"number"==typeof e[n]?String(e[n]).split(/,/):[""];t[n]=1==i.length?i[0]:i}return t},e.prototype.listenToPostMessage=function(){var e=this;i.addPostMessageListener(this.win,function(t,n,i){if(t&&t.eventType)switch(t.eventType){case a.CLIENT_EVENT_ADD_ACTION:var s=e.getPublicMethodName(),o=t.eventData||[];e.win[s](o[0],o[1],o[2]);break;case a.CLIENT_EVENT_READ_RESULT:var r=t.eventData||[];"function"==typeof window[r.callback]&&window[r.callback](r.fields||{})}})},e}();t.ClientTag=d}});